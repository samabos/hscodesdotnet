@using Autumn.UI.ViewModels
@model Dictionary<string, List<ResultModel>>
@if (Model.Count > 0)
{
    var p = Model.FirstOrDefault().Value.FirstOrDefault();
    var view = Model.FirstOrDefault().Key;

    <table class="ui table">
        <thead>
            <tr>
                <th class="text-sm-left">Prev.</th>
                <th class="text-justify">Code</th>
                <th class="text-justify">Description</th>
                <th class="text-sm-right">Next</th>
            </tr>
        </thead>
        <tbody>
            @if (p.HSCodes != null)
            {
                foreach (var x in p.HSCodes)
                {
                    var levelf = x.Level + 1;
                    var levelb = x.Level - 1;
                    var hscodeColor = string.Empty;
                    if (x.Code.Length >= 7) { hscodeColor = ""; }
                    <tr class="@hscodeColor">
                        <td class="text-sm-left">
                            @if (levelb > 0)
                            {<button asp-page="Classify" asp-page-handler="Partial" asp-route-id="@x.ParentId" asp-route-pid="" asp-route-level="@levelb" asp-route-keyword="" asp-route-settings="nav" class="ui button tiny rounded nav-link">&laquo;</button>}
                        </td>
                        <th class="text-justify">
                            @if (x.Code.Length >= 7)
                            {
                                // <button class="btn btn-light" data-toggle="modal" data-target="#exampleModalCenter">@x.Code</button>
                                //<a href="/NoteSUI?hscode=@x.Code" data-toggle="modal" data-container='NoteModal' data-title="@x.Code">@x.Code</a>
                                <button onclick="loadLocalHSCode(this)" asp-page="NoteS2" asp-route-hscode="@x.Code" id="@x.Code">@x.Code</button>

                            }
                            else
                            {
                                <span>@x.Code</span>
                            }
                        </th>
                        <td class="text-justify">@x.Description</td>
                        <td class="text-sm-right">
                            @if (x.Code.Length < 7)
                            {<button asp-page="Classify" asp-page-handler="Partial" asp-route-id="" asp-route-pid="@x.Id" asp-route-level="@levelf" asp-route-keyword="" asp-route-settings="nav" class="ui button tiny rounded nav-link">&raquo;</button>}
                        </td>
                    </tr>

                }
            }
        </tbody>
    </table>
}
